type: object
properties:
  id:
    type: string
    format: uuid
    description: Unique identifier for the check
    example: 550e8400-e29b-41d4-a716-446655440000
  name:
    type: string
    description: Name of the check
    example: API Health Check
  is_enabled:
    type: boolean
    description: Whether the check is enabled
    default: true
  is_muted:
    type: boolean
    description: Whether alerts for this check are muted
    default: false
  type:
    type: string
    enum: [http, tcp, dns, browser, heartbeat]
    description: Type of check to perform
    example: http
  host:
    type: string
    description: Hostname or IP address to check
    example: api.example.com
  port:
    type: integer
    description: Port number
    default: 80
    example: 443
  secure:
    type: boolean
    description: Whether to use HTTPS/TLS
    default: false
    example: true
  method:
    type: string
    description: HTTP method to use
    default: GET
    example: GET
  path:
    type: string
    description: URL path to check
    default: /
    example: /health
  headers:
    type: object
    additionalProperties: true
    description: Custom headers to send with the request
  query_params:
    type: object
    additionalProperties: true
    description: Query parameters to include in the request
  body:
    type: object
    additionalProperties: true
    description: Request body (for POST, PUT, PATCH requests)
  ip_version:
    type: string
    enum: [ipv4, ipv6]
    description: IP version to use for the request
    default: ipv4
    example: ipv4
  ssl_verification:
    type: boolean
    description: Whether to verify SSL certificates
    default: true
    example: true
  follow_redirects:
    type: boolean
    description: Whether to follow HTTP redirects
    default: true
    example: true
  playwright_script:
    type: string
    nullable: true
    description: Playwright script for browser checks
  assertions:
    type: array
    items:
      type: object
      properties:
        source:
          type: string
          enum: [status_code, response_body, response_headers, response_time_ms]
        property:
          type: string
          nullable: true
        comparison:
          type: string
          enum: [equals, not_equals, contains, not_contains, is_empty, is_not_empty, is_less_than, is_less_than_or_equal_to, is_greater_than, is_greater_than_or_equal_to]
        target:
          type: string
      required:
        - source
        - comparison
        - target
    description: Assertions to validate the response
  pre_script:
    type: string
    nullable: true
    description: Script to run before the check
  post_script:
    type: string
    nullable: true
    description: Script to run after the check
  interval:
    type: string
    description: Interval between checks (e.g., "5s", "10m", "1h")
    default: 10m
    example: 10m
  degraded_threshold:
    type: integer
    description: Response time threshold for degraded status
    example: 3000
  degraded_threshold_unit:
    type: string
    enum: [ms, s]
    description: Unit for degraded threshold
    default: ms
    example: ms
  failed_threshold:
    type: integer
    description: Response time threshold for failed status
    example: 5000
  failed_threshold_unit:
    type: string
    enum: [ms, s]
    description: Unit for failed threshold
    default: ms
    example: ms
  retries:
    type: string
    enum: [none, fixed, linear, exponential]
    description: Retry strategy
    default: none
    example: none
  retries_count:
    type: integer
    nullable: true
    description: Number of retries
    example: 3
  retries_delay:
    type: integer
    nullable: true
    description: Delay between retries
    example: 200
  retries_delay_unit:
    type: string
    enum: [ms, s]
    nullable: true
    description: Unit for retry delay
    example: ms
  retries_factor:
    type: number
    nullable: true
    description: Factor for linear/exponential retries
    example: 2.0
  retries_jitter:
    type: string
    enum: [none, full, equal, decorrelated]
    nullable: true
    description: Jitter type for exponential retries
    example: full
  retries_jitter_factor:
    type: number
    nullable: true
    description: Jitter factor
    example: 1.0
  retries_max_delay:
    type: integer
    nullable: true
    description: Maximum delay between retries
    example: 5000
  retries_max_delay_unit:
    type: string
    enum: [ms, s]
    nullable: true
    description: Unit for max delay
    example: ms
  retries_timeout:
    type: integer
    nullable: true
    description: Timeout for retries
    example: 15000
  retries_timeout_unit:
    type: string
    enum: [ms, s]
    nullable: true
    description: Unit for retry timeout
    example: ms
  last_status:
    type: string
    enum: [success, fail, timeout, error, unknown]
    description: Status of the last check run
    default: unknown
  last_run_at:
    type: string
    format: date-time
    nullable: true
    description: Timestamp of the last check run
  next_run_at:
    type: string
    format: date-time
    nullable: true
    description: Timestamp of the next scheduled check run
  project_id:
    type: string
    format: uuid
    description: ID of the project this check belongs to
  project:
    $ref: '#/components/schemas/Project'
    nullable: true
  tags:
    type: array
    items:
      $ref: '#/components/schemas/Tag'
    description: Tags associated with the check
  regions:
    type: array
    items:
      $ref: '#/components/schemas/Region'
    description: Regions where the check should run
  created_at:
    type: string
    format: date-time
    description: Timestamp when the check was created
  updated_at:
    type: string
    format: date-time
    description: Timestamp when the check was last updated
required:
  - id
  - name
  - type
  - host
  - method
  - interval
  - project_id
  - created_at
  - updated_at
